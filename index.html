<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>WakeMap - Alarma inteligente por ubicación</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="app">

    <!-- SECCIÓN 1: Header/Hero -->
    <section id="section1" class="section active">
      <div class="section-content">
        <img src="icono2blanco.png" alt="logo" class="logo" />
        <h1>WakeMap</h1>
        <h2>Despierta en el lugar correcto, siempre</h2>
        <h4>WakeMap, la app para Android que activa alarmas inteligentes según tu ubicación. Olvídate de despertadores que no se adaptan a tu día.</h4>
      </div>
    </section>

    <!-- SECCIÓN 2: Características -->
    <section id="section2" class="section">
      <div class="section-content">
        <h2>¿Cansado de alarmas que no se adaptan a tu día?</h2>
        <p class="intro-text">
          La tecnología de WakeMap cambia la forma en que recibes alarmas. Estas son sus principales ventajas:
        </p>
        <div class="features-grid">
          <div class="feature-card">
            <img src="https://img.icons8.com/ios-filled/100/2575fc/gps-device.png" alt="Geolocalización" />
            <h3>Alarmas basadas en ubicación</h3>
            <p>Despierta o recibe avisos solo cuando llegues a la zona que tú eliges, sin importar la hora.</p>
          </div>
          <div class="feature-card">
            <img src="https://img.icons8.com/ios-filled/100/2575fc/radius.png" alt="Rango personalizable" />
            <h3>Rango de activación personalizable</h3>
            <p>Define la distancia exacta en la que quieres que se active la alarma para ajustarla a tus necesidades.</p>
          </div>
          <div class="feature-card">
            <img src="https://img.icons8.com/ios-filled/100/2575fc/target.png" alt="Precisión" />
            <h3>Alta precisión</h3>
            <p>WakeMap utiliza tecnología avanzada para detectar tu ubicación con exactitud y activar las alarmas en el momento correcto.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- SECCIÓN 3: Cómo funciona -->
    <section id="section3" class="section">
      <div class="section-content">
        <h2>¿Cómo funciona WakeMap?</h2>
        <div class="how-it-works-content">
          <div class="step">
            <h3>1. Marca tus zonas</h3>
            <p>Define el lugar donde quieres que la alarma se active.</p>
            <img src="autocompletado.png" alt="Captura Autocompletado" class="step-img" />
          </div>
          <div class="step">
            <h3>2. Ajusta tus alarmas</h3>
            <p>Elige el rango de activación para tu alarma.</p>
            <img src="rango.png" alt="Captura Rango Personalizado" class="step-img" />
          </div>
          <div class="step">
            <h3>3. Deja que WakeMap haga el resto</h3>
            <p>La app detecta tu ubicación y gestiona las alarmas automáticamente.</p>
            <img src="paginaPrincipal.png" alt="Captura Alarma Activa" class="step-img" />
          </div>
        </div>
      </div>
    </section>

    <!-- SECCIÓN 4: Temporizador de lanzamiento -->
    <section id="section4" class="section">
      <div class="section-content">
        <h2>¡Falta poco para WakeMap!</h2>
        <p>Estamos preparando todo para lanzarla. Mientras tanto, mira cuánto falta:</p>
        <div id="countdown"></div>
      </div>
    </section>

    <!-- SECCIÓN 5: Preguntas frecuentes (FAQ) -->
    <section id="section5" class="section">
      <div class="section-content">
        <h2>Preguntas frecuentes</h2>
        <details>
          <summary>¿En qué dispositivos funciona WakeMap?</summary>
          <p>Actualmente está disponible solo para Android, pero pronto lanzaremos para iOS.</p>
        </details>
        <details>
          <summary>¿Necesito conexión a internet para que funcione?</summary>
          <p>WakeMap utiliza GPS para activar las alarmas, por lo que la conexión no es estrictamente necesaria, pero sí recomendable para mejorar precisión.</p>
        </details>
        <details>
          <summary>¿Es gratis usar la app?</summary>
          <p>WakeMap tendrá una versión básica gratuita y opciones premium con funciones avanzadas.</p>
        </details>
      </div>
    </section>

    <!-- SECCIÓN 6: Pre-registro -->
    <section id="section6" class="section">
      <div class="section-content">
        <h2>Pre-regístrate para WakeMap</h2>
        <p>La app está en desarrollo. Regístrate para ser uno de los primeros en probarla cuando esté lista.</p>
        <form id="preRegisterForm" action="#" method="POST">
          <input 
            type="email" 
            name="email" 
            placeholder="Tu correo electrónico" 
            required 
            style="padding: 0.75rem 1rem; font-size: 1rem; border-radius: 30px; border: 1px solid #ccc; width: 250px; max-width: 90%; margin-bottom: 1rem;"
            class="email-input"
          />
          <br />
          <button 
            type="submit" 
            class="btn-pre-register"
            style="padding: 0.75rem 1.5rem; font-size: 1.1rem; border-radius: 30px; border: none; background: #111; color: white; cursor: pointer;"
          >
            Enviar
          </button>
        </form>
      </div>
    </section>

    <!-- SECCIÓN 7: Footer -->
    <section id="section7" class="section">
      <div class="section-content footer-content">
        <p>© 2025 WakeMap. Todos los derechos reservados.</p>
        <p>Contacto: ernesto.contreras@ciclosformativosceu.es</p>
      </div>
    </section>

  </div>

  <script>
    // Scroll & swipe sections logic
    const sections = document.querySelectorAll('.section');
    let currentIndex = 0;
    let isThrottled = false;

    function showSection(index) {
      sections.forEach((sec, i) => {
        if(i === index) sec.classList.add('active');
        else sec.classList.remove('active');
      });
    }

    function onScroll(e) {
      if (isThrottled) return;
      isThrottled = true;
      setTimeout(() => { isThrottled = false; }, 1000);

      const delta = e.deltaY;
      if(delta > 0) {
        if(currentIndex < sections.length - 1) {
          currentIndex++;
          showSection(currentIndex);
        }
      } else if(delta < 0) {
        if(currentIndex > 0) {
          currentIndex--;
          showSection(currentIndex);
        }
      }
    }

    let touchStartY = 0;
    let touchEndY = 0;

    function handleTouchStart(e) {
      touchStartY = e.changedTouches[0].screenY;
    }

    function handleTouchEnd(e) {
      touchEndY = e.changedTouches[0].screenY;
      handleGesture();
    }

    function handleGesture() {
      if (isThrottled) return;
      const diff = touchStartY - touchEndY;
      if (Math.abs(diff) < 50) return;

      isThrottled = true;
      setTimeout(() => { isThrottled = false; }, 1000);

      if(diff > 0) {
        if(currentIndex < sections.length -1) {
          currentIndex++;
          showSection(currentIndex);
        }
      } else {
        if(currentIndex > 0) {
          currentIndex--;
          showSection(currentIndex);
        }
      }
    }

    function isMobile() {
      return /Mobi|Android/i.test(navigator.userAgent);
    }

    if (isMobile()) {
      sections.forEach(sec => sec.classList.add('active'));
      window.addEventListener('touchstart', handleTouchStart, { passive: true });
      window.addEventListener('touchend', handleTouchEnd, { passive: true });
    } else {
      showSection(currentIndex);
      window.addEventListener('wheel', onScroll, { passive: true });
      window.addEventListener('keydown', e => {
        if(e.key === 'ArrowDown' || e.key === 'PageDown') {
          if(currentIndex < sections.length -1) {
            currentIndex++;
            showSection(currentIndex);
          }
        }
        if(e.key === 'ArrowUp' || e.key === 'PageUp') {
          if(currentIndex > 0) {
            currentIndex--;
            showSection(currentIndex);
          }
        }
      });
    }

    // Código para el formulario pre-registro:
    const form = document.getElementById('preRegisterForm');

    form.addEventListener('submit', function(event) {
      event.preventDefault();

      // Borrar input
      const emailInput = form.querySelector('input[name="email"]');
      emailInput.value = '';

      // Mostrar mensaje
      form.innerHTML = '<p style="font-size:1.2rem; color: white; font-weight: 600;">Pre-registro enviado</p>';
    });

    // Temporizador lanzamiento
    const launchDate = new Date('2025-06-24T00:00:00').getTime();
    const countdownEl = document.getElementById('countdown');

    function updateCountdown() {
      const now = new Date().getTime();
      const diff = launchDate - now;

      if(diff <= 0) {
        countdownEl.innerHTML = "¡WakeMap ya está disponible!";
        clearInterval(interval);
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);

      countdownEl.innerHTML = 
        `${days}d ${hours}h ${minutes}m ${seconds}s`;
    }

    updateCountdown();
    const interval = setInterval(updateCountdown, 1000);
  </script>
</body>
</html>
